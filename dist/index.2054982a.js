console.log("그림판");class DrawingBoard{MODE="NONE";IsMouseDown=!1;eraserColor="#FFFFFF";backgroundColor="#FFFFFF";constructor(){this.assignElement(),this.initContext(),this.initCanvasBackgroundColor(),this.addEvent()}assignElement(){this.containerEl=document.getElementById("container"),this.canvasEl=this.containerEl.querySelector("#canvas"),this.toolbarEl=this.containerEl.querySelector("#toolbar"),this.brushEl=this.toolbarEl.querySelector("#brush"),this.colorPickerEl=this.toolbarEl.querySelector("#colorPicker"),this.brushPanelEl=this.containerEl.querySelector("#brushPanel"),this.brushSliderEl=this.brushPanelEl.querySelector("#brushSize"),this.brushSizePreviewEl=this.brushPanelEl.querySelector("#brushSizePreview"),this.eraserEl=this.toolbarEl.querySelector("#eraser"),this.navigatorEl=this.toolbarEl.querySelector("#navigator"),this.navigatorImageContainerEl=this.containerEl.querySelector("#imgNav"),this.navigatorImageEl=this.containerEl.querySelector("#canvasImg")}initContext(){this.context=this.canvasEl.getContext("2d")}initCanvasBackgroundColor(){this.context.fillStyle=this.backgroundColor,this.context.fillRect(0,0,this.canvasEl.width,this.canvasEl.height)}addEvent(){this.brushEl.addEventListener("click",this.onClickBrush.bind(this)),this.canvasEl.addEventListener("mousedown",this.onMouseDown.bind(this)),this.canvasEl.addEventListener("mousemove",this.onMouseMove.bind(this)),this.canvasEl.addEventListener("mouseup",this.onMouseUp.bind(this)),this.canvasEl.addEventListener("mouseout",this.onMouseOut.bind(this)),this.brushSliderEl.addEventListener("input",this.onChangeBrushSize.bind(this)),this.colorPickerEl.addEventListener("input",this.onChangeColor.bind(this)),this.eraserEl.addEventListener("click",this.onClickEraser.bind(this)),this.navigatorEl.addEventListener("click",this.onClickNavigator.bind(this))}onMouseOut(){"NONE"!==this.MODE&&(this.IsMouseDown=!1,this.updateNavigator())}onChangeColor(t){this.brushSizePreviewEl.style.backgroundColor=t.target.value}onChangeBrushSize(t){this.brushSizePreviewEl.style.width=`${t.target.value}px`,this.brushSizePreviewEl.style.height=`${t.target.value}px`}onMouseDown(t){if("NONE"===this.MODE)return;this.IsMouseDown=!0;const e=this.getMousePosition(t);this.context.beginPath(),this.context.moveTo(e.x,e.y),this.context.lineCap="round","BRUSH"===this.MODE?(this.context.strokeStyle=this.colorPickerEl.value,this.context.lineWidth=this.brushSliderEl.value):"ERASER"===this.MODE&&(this.context.strokeStyle=this.eraserColor,this.context.lineWidth=50)}onMouseMove(t){if(!this.IsMouseDown)return;const e=this.getMousePosition(t);this.context.lineTo(e.x,e.y),this.context.stroke()}onMouseUp(){"NONE"!==this.MODE&&(this.IsMouseDown=!1,this.updateNavigator())}getMousePosition(t){const e=this.canvasEl.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}onClickBrush(t){const e=t.currentTarget.classList.contains("active");this.MODE=e?"NONE":"BRUSH",this.canvasEl.style.cursor=e?"default":"crosshair",this.brushPanelEl.classList.toggle("hide"),t.currentTarget.classList.toggle("active"),this.eraserEl.classList.remove("active")}onClickEraser(){const t=event.currentTarget.classList.contains("active");this.MODE=t?"NONE":"ERASER",this.canvasEl.style.cursor=t?"default":"crosshair",this.brushPanelEl.classList.add("hide"),event.currentTarget.classList.toggle("active"),this.brushEl.classList.remove("active")}onClickNavigator(t){t.currentTarget.classList.toggle("active"),this.navigatorImageContainerEl.classList.toggle("hide"),this.updateNavigator()}updateNavigator(){this.navigatorImageEl.src=this.canvasEl.toDataURL()}}new DrawingBoard;
//# sourceMappingURL=index.2054982a.js.map
